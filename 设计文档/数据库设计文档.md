### 1. user

user 表为用户表，用于存储用户基础信息。具体表结构如下：

| 字段名      | 数据类型        | 说明         | 备注                                              |
| ----------- | --------------- | ------------ | ------------------------------------------------- |
| id          | bigint          | 用户ID       | 主键，自增                                         |
| user_name   | varchar(30)     | 用户账号     | 不为空                                            |
| nick_name   | varchar(30)     | 用户昵称     | 不为空                                            |
| user_type   | tinyint(1)      | 用户类型     | 1:普通用户 2:商家管理员，默认 1                   |
| sex         | char(1)         | 用户性别     | 0:男 1:女 2:未知，默认 '0'                        |
| phone       | varchar(11)     | 手机号       | 唯一，不为空                                      |
| avatar      | varchar(500)    | 头像地址     | 可空，URL                                         |
| status      | tinyint(1)      | 账号状态     | 默认 1（data.sql 注释：0 = 正常，1 = 停用）       |
| password    | varchar(100)    | 密码         | 可空，默认空字符串（建议存储哈希值）               |
| create_time | datetime        | 创建时间     | 默认 CURRENT_TIMESTAMP                            |
| update_time | datetime        | 更新时间     | 默认 CURRENT_TIMESTAMP，自动更新                  |


### 2. category

category 表为分类表，用于存储菜品与套餐分类。具体表结构如下：

| 字段名        | 数据类型     | 说明         | 备注                               |
| ------------- | ------------ | ------------ | ---------------------------------- |
| id            | bigint       | 主键         | 自增                               |
| name          | varchar(32)  | 分类名称     | 不为空，与 type 组合唯一           |
| type          | tinyint(1)   | 分类类型     | 1:菜品 2:套餐，不为空              |
| sort          | int          | 排序         | 默认 0                             |
| status        | tinyint(1)   | 状态         | 1:启用 0:禁用，默认 1             |
| create\_time  | datetime     | 创建时间     | 默认 CURRENT\_TIMESTAMP            |
| update\_time  | datetime     | 更新时间     | 默认 CURRENT\_TIMESTAMP，自动更新  |


### 3. dish

dish 表为菜品表，用于存储菜品与套餐信息。具体表结构如下：

| 字段名          | 数据类型       | 说明         | 备注                                          |
| --------------- | -------------- | ------------ | --------------------------------------------- |
| id              | bigint         | 主键         | 自增                                          |
| name            | varchar(50)    | 菜品名称     | 不为空                                        |
| category\_id    | bigint         | 分类ID       | 逻辑外键，关联 category.id                    |
| dish\_type      | tinyint(1)     | 菜品类型     | 1:单品 2:套餐，默认 1                         |
| price           | decimal(10,2)  | 价格         | 不为空                                        |
| image           | varchar(255)   | 图片URL      | 可空                                          |
| description     | text           | 描述         | 可空                                          |
| flavors         | json           | 口味信息     | 可空，JSON                                    |
| stock           | int            | 库存         | 默认 0                                        |
| seckill\_stock  | int            | 秒杀库存     | 默认 0                                        |
| status          | tinyint(1)     | 起售状态     | 1:起售 0:停售，默认 1                         |
| create\_time    | datetime       | 创建时间     | 默认 CURRENT\_TIMESTAMP                       |
| update\_time    | datetime       | 更新时间     | 默认 CURRENT\_TIMESTAMP，自动更新             |


### 4. orders

orders 表为订单表，用于存储订单主信息。具体表结构如下：

| 字段名         | 数据类型       | 说明         | 备注                                                           |
| -------------- | -------------- | ------------ | -------------------------------------------------------------- |
| id             | bigint         | 主键         | 自增                                                           |
| order\_no      | varchar(32)    | 订单号       | 唯一，不为空                                                   |
| user\_id       | bigint         | 用户ID       | 逻辑外键，关联 user.id                                         |
| total\_amount  | decimal(10,2)  | 订单总金额   | 不为空                                                         |
| actual\_amount | decimal(10,2)  | 实付金额     | 不为空                                                         |
| discount\_amount | decimal(10,2)| 优惠金额     | 默认 0.00                                                      |
| order\_status  | tinyint(1)     | 订单状态     | 1:待付款 2:待接单 3:制作中 4:配送中 5:已完成 6:已取消         |
| pay\_status    | tinyint(1)     | 支付状态     | 0:未支付 1:已支付 2:已退款，默认 0                             |
| pay\_method    | tinyint(1)     | 支付方式     | 1:微信 2:支付宝，可空                                          |
| address\_info  | json           | 地址信息     | 可空，JSON                                                     |
| remark         | varchar(200)   | 备注         | 可空                                                           |
| order\_time    | datetime       | 下单时间     | 默认 CURRENT\_TIMESTAMP                                        |
| pay\_time      | datetime       | 支付时间     | 可空                                                           |
| complete\_time | datetime       | 完成时间     | 可空                                                           |
| cancel\_time   | datetime       | 取消时间     | 可空                                                           |


### 5. order\_detail

order\_detail 表为订单明细表，用于存储订单项详情。具体表结构如下：

| 字段名        | 数据类型       | 说明         | 备注                                   |
| ------------- | -------------- | ------------ | -------------------------------------- |
| id            | bigint         | 主键         | 自增                                   |
| order\_id     | bigint         | 订单ID       | 逻辑外键，关联 orders.id               |
| dish\_id      | bigint         | 菜品ID       | 逻辑外键，关联 dish.id                 |
| dish\_name    | varchar(50)    | 菜品名称     | 不为空                                 |
| dish\_image   | varchar(255)   | 菜品图片     | 可空                                   |
| dish\_price   | decimal(10,2)  | 菜品单价     | 不为空                                 |
| quantity      | int            | 数量         | 不为空                                 |
| total\_amount | decimal(10,2)  | 总金额       | 不为空                                 |
| flavors       | json           | 口味信息     | 可空，JSON                             |
| is\_seckill   | tinyint(1)     | 是否秒杀     | 0/1，默认 0                            |


### 6. shopping\_cart

shopping\_cart 表为购物车表，用于存储用户购物车数据。具体表结构如下：

| 字段名       | 数据类型     | 说明       | 备注                                          |
| ------------ | ------------ | ---------- | --------------------------------------------- |
| id           | bigint       | 主键       | 自增                                          |
| user\_id     | bigint       | 用户ID     | 逻辑外键，关联 user.id                        |
| dish\_id     | bigint       | 菜品ID     | 逻辑外键，关联 dish.id                        |
| quantity     | int          | 数量       | 默认 1                                        |
| flavors      | json         | 口味选择   | 可空，JSON                                    |
| create\_time | datetime     | 创建时间   | 默认 CURRENT\_TIMESTAMP                       |


### 7. address\_book

address\_book 表为地址表，用于存储用户收货地址。具体表结构如下：

| 字段名         | 数据类型      | 说明       | 备注                                 |
| -------------- | ------------- | ---------- | ------------------------------------ |
| id             | bigint        | 主键       | 自增                                 |
| user\_id       | bigint        | 用户ID     | 逻辑外键，关联 user.id               |
| consignee      | varchar(20)   | 收货人     | 不为空                               |
| phone          | varchar(11)   | 手机号     | 不为空                               |
| province       | varchar(20)   | 省份       | 可空                                 |
| city           | varchar(20)   | 城市       | 可空                                 |
| district       | varchar(20)   | 区县       | 可空                                 |
| detail\_address| varchar(200)  | 详细地址   | 不为空                               |
| is\_default    | tinyint(1)    | 默认地址   | 0/1，默认 0                          |
| create\_time   | datetime      | 创建时间   | 默认 CURRENT\_TIMESTAMP              |
| update\_time   | datetime      | 更新时间   | 默认 CURRENT\_TIMESTAMP，自动更新    |


### 8. seckill\_activity

seckill\_activity 表为秒杀活动表，用于存储秒杀配置与库存。具体表结构如下：

| 字段名          | 数据类型       | 说明         | 备注                                              |
| --------------- | -------------- | ------------ | ------------------------------------------------- |
| id              | bigint         | 主键         | 自增                                              |
| name            | varchar(100)   | 活动名称     | 不为空                                            |
| dish\_id        | bigint         | 菜品ID       | 逻辑外键，关联 dish.id                            |
| seckill\_price  | decimal(10,2)  | 秒杀价       | 不为空                                            |
| stock           | int            | 秒杀库存     | 不为空                                            |
| initial\_stock  | int            | 初始库存     | 不为空                                            |
| limit\_per\_user| int            | 每人限购     | 默认 1                                            |
| start\_time     | datetime       | 开始时间     | 不为空                                            |
| end\_time       | datetime       | 结束时间     | 不为空                                            |
| status          | tinyint(1)     | 活动状态     | 1:未开始 2:进行中 3:已结束 4:已关闭，默认 1       |
| create\_time    | datetime       | 创建时间     | 默认 CURRENT\_TIMESTAMP                           |
| update\_time    | datetime       | 更新时间     | 默认 CURRENT\_TIMESTAMP，自动更新                 |


### 9. coupon

coupon 表为优惠券表，用于存储优惠券规则。具体表结构如下：

| 字段名         | 数据类型       | 说明       | 备注                                  |
| -------------- | -------------- | ---------- | ------------------------------------- |
| id             | bigint         | 主键       | 自增                                  |
| name           | varchar(50)    | 名称       | 不为空                                |
| type           | tinyint(1)     | 类型       | 1:满减券 2:折扣券，不为空             |
| discount\_amount | decimal(10,2)| 优惠金额   | 可空                                  |
| discount\_rate | decimal(3,2)   | 折扣率     | 可空                                  |
| min\_amount    | decimal(10,2)  | 最低消费   | 可空                                  |
| total\_count   | int            | 发放总量   | 不为空                                |
| used\_count    | int            | 已使用量   | 默认 0                                 |
| start\_time    | datetime       | 开始时间   | 不为空                                |
| end\_time      | datetime       | 结束时间   | 不为空                                |
| status         | tinyint(1)     | 状态       | 1:可用 0:禁用，默认 1                 |
| create\_time   | datetime       | 创建时间   | 默认 CURRENT\_TIMESTAMP               |


### 10. user\_coupon

user\_coupon 表为用户优惠券表，用于存储用户领取与使用记录。具体表结构如下：

| 字段名      | 数据类型      | 说明       | 备注                                       |
| ----------- | ------------- | ---------- | ------------------------------------------ |
| id          | bigint        | 主键       | 自增                                       |
| user\_id    | bigint        | 用户ID     | 逻辑外键，关联 user.id                     |
| coupon\_id  | bigint        | 优惠券ID   | 逻辑外键，关联 coupon.id                   |
| status      | tinyint(1)    | 状态       | 0:未使用 1:已使用 2:已过期，默认 0        |
| get\_time   | datetime      | 领取时间   | 默认 CURRENT\_TIMESTAMP                    |
| use\_time   | datetime      | 使用时间   | 可空                                       |
| order\_id   | bigint        | 订单ID     | 可空，逻辑外键，关联 orders.id             |